{"version":3,"file":"dxfCollection.js","names":["_isEqual","require","Style","util","DXFItem","style","wb","id","ele","addDXFtoXMLele","DXFCollection","items","thisItem","forEach","item","toObject","push","length","dxfXML","att","addToXMLele","module","exports"],"sources":["../../../source/lib/workbook/dxfCollection.js"],"sourcesContent":["const _isEqual = require('lodash.isequal');\nconst Style = require('../style');\nconst util = require('util');\n\nclass DXFItem { // ยง18.8.14 dxf (Formatting)\n    constructor(style, wb) {\n        this.wb = wb;\n        this.style = style;\n        this.id;\n    }\n    get dxfId() {\n        return this.id;\n    }\n\n    addToXMLele(ele) {\n        this.style.addDXFtoXMLele(ele);\n    }\n}\n\nclass DXFCollection { // ยง18.8.15 dxfs (Formats)\n    constructor(wb) {\n        this.wb = wb;\n        this.items = [];\n    }\n\n    add(style) {\n        if (!(style instanceof Style)) {\n            style = this.wb.Style(style);\n        }\n\n        let thisItem;\n        this.items.forEach((item) => {\n            if (_isEqual(item.style.toObject(), style.toObject())) {\n                return thisItem = item;\n            }\n        });\n        if (!thisItem) {\n            thisItem = new DXFItem(style, this.wb);\n            this.items.push(thisItem);\n            thisItem.id = this.items.length - 1;\n        }\n        return thisItem;\n    }\n\n    get length() {\n        return this.items.length;\n    }\n\n    addToXMLele(ele) {\n        let dxfXML = ele\n            .ele('dxfs')\n            .att('count', this.length);\n\n        this.items.forEach((item) => {\n            item.addToXMLele(dxfXML);\n        });\n    }\n}\n\nmodule.exports = DXFCollection;"],"mappings":";;;;;;;;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,gBAAD,CAAxB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,UAAD,CAArB;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;IAEMG,O;EAAU;EACZ,iBAAYC,KAAZ,EAAmBC,EAAnB,EAAuB;IAAA;;IACnB,KAAKA,EAAL,GAAUA,EAAV;IACA,KAAKD,KAAL,GAAaA,KAAb;IACA,KAAKE,EAAL;EACH;;;;SACD,eAAY;MACR,OAAO,KAAKA,EAAZ;IACH;;;WAED,qBAAYC,GAAZ,EAAiB;MACb,KAAKH,KAAL,CAAWI,cAAX,CAA0BD,GAA1B;IACH;;;;;;IAGCE,a;EAAgB;EAClB,uBAAYJ,EAAZ,EAAgB;IAAA;;IACZ,KAAKA,EAAL,GAAUA,EAAV;IACA,KAAKK,KAAL,GAAa,EAAb;EACH;;;;WAED,aAAIN,KAAJ,EAAW;MACP,IAAI,EAAEA,KAAK,YAAYH,KAAnB,CAAJ,EAA+B;QAC3BG,KAAK,GAAG,KAAKC,EAAL,CAAQJ,KAAR,CAAcG,KAAd,CAAR;MACH;;MAED,IAAIO,QAAJ;MACA,KAAKD,KAAL,CAAWE,OAAX,CAAmB,UAACC,IAAD,EAAU;QACzB,IAAId,QAAQ,CAACc,IAAI,CAACT,KAAL,CAAWU,QAAX,EAAD,EAAwBV,KAAK,CAACU,QAAN,EAAxB,CAAZ,EAAuD;UACnD,OAAOH,QAAQ,GAAGE,IAAlB;QACH;MACJ,CAJD;;MAKA,IAAI,CAACF,QAAL,EAAe;QACXA,QAAQ,GAAG,IAAIR,OAAJ,CAAYC,KAAZ,EAAmB,KAAKC,EAAxB,CAAX;QACA,KAAKK,KAAL,CAAWK,IAAX,CAAgBJ,QAAhB;QACAA,QAAQ,CAACL,EAAT,GAAc,KAAKI,KAAL,CAAWM,MAAX,GAAoB,CAAlC;MACH;;MACD,OAAOL,QAAP;IACH;;;SAED,eAAa;MACT,OAAO,KAAKD,KAAL,CAAWM,MAAlB;IACH;;;WAED,qBAAYT,GAAZ,EAAiB;MACb,IAAIU,MAAM,GAAGV,GAAG,CACXA,GADQ,CACJ,MADI,EAERW,GAFQ,CAEJ,OAFI,EAEK,KAAKF,MAFV,CAAb;MAIA,KAAKN,KAAL,CAAWE,OAAX,CAAmB,UAACC,IAAD,EAAU;QACzBA,IAAI,CAACM,WAAL,CAAiBF,MAAjB;MACH,CAFD;IAGH;;;;;;AAGLG,MAAM,CAACC,OAAP,GAAiBZ,aAAjB"}